<html>
    <head>
        <title>Message</title>
    </head>
    <body>
        <header><h1>Message</h1></header> 
        <main>
            <h2>Your Message 3</h2>
            <form action="/create" method="post">
                <label for="title">Title</label>
                <input type="text" id="title" name="title">
                <label for="text">Message Body</label>
                <textarea name="text" id="text" rows= "5" ></textarea>
                <button>Save</button>
            </form>

            <div id="past-messages"></div>
        </main>
        <script>
            let myPastMessages = document.getElementById('past-messages');

            async function getListPastMessages() {
                const response = await fetch("http://localhost:3000/past-messages")
                const listPastMessages = await response.json()

                myPastMessages.innerHTML += `<br><h2>Past Messages</h2>`;
                listPastMessages.forEach(message => {
                    myPastMessages.innerHTML += 
                    `<form action="/delete" method="post">
                        <li>${message}</li>
                        <button name='filenameToDelete' type='submit' value='${message}'>Delete</button>
                    </form>`
                });
                 
            
            }
            getListPastMessages()
            

        </script>
    </body>
</html>